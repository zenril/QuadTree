!function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(t,n,e){"use strict";!function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(t,n,e){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(n,e){r(this,t),this.x=n.x,this.y=n.y,this.r=n.r||0,this.data=e}return i(t,[{key:"intersects",value:function(t){return this.distance(t)<=t.r+this.r}},{key:"distance",value:function(t){var n=this.x-t.x,e=this.y-t.y;return Math.sqrt(n*n+e*e)}}]),t}(),o=function(){function t(n,e){r(this,t),this.x=n.x,this.y=n.y,this.r=n.r||0,this.data=e}return i(t,[{key:"intersects",value:function(t){return this.distance(t)<=t.r+this.r}},{key:"distance",value:function(t){var n=this.x-t.x,e=this.y-t.y;return Math.sqrt(n*n+e*e)}}]),t}(),u=function(){function t(n,e,i,s){r(this,t),this.x=n,this.y=e,this.w=i,this.h=s}return i(t,[{key:"contains",value:function(t){return t.x>=this.x-this.w&&t.x<this.x+this.w&&t.y>=this.y-this.h&&t.y<this.y+this.h}}]),t}(),a=function(){function t(n,e){r(this,t),this.boundary=n,this.capacity=e,this.points=[],this.divisions=null,t.trigger("create",this)}return i(t,[{key:"peek",value:function(t){if(this.divisions){for(var n=0;n<this.divisions.length;n++)for(var e=0;e<this.divisions[n].length;e++)t(this.divisions[n][e]);return!0}return!1}},{key:"insert",value:function(n){this.boundary.contains(n)&&(this.points.length<this.capacity?(this.points.push(n),t.trigger("create",this,n)):(this.divisions||this.subdivide(),this.peek(function(t){t.insert(n)})))}},{key:"findPoints",value:function(t,n,e){if(e||(e=[]),!this.intersectsWithPoint(t))return e;if(this.divisions&&this.peek(function(i){i.findPoints(t,n,e)}),this.points.length)for(var i=0;i<this.points.length;i++){var r=this.points[i];n&&!n(r)||e.push(r)}return e}},{key:"intersectsWithPoint",value:function(t){var n=this.boundary.x-this.boundary.w/2,e=this.boundary.y-this.boundary.h/2,i=t.x-Math.max(n,Math.min(t.x,n+this.boundary.w)),r=t.y-Math.max(e,Math.min(t.y,e+this.boundary.h));return i*i+r*r<t.r*t.r}},{key:"findInRadius",value:function(t,n){return t.r=n||t.r,this.findPoints(t,function(n){return t.intersects(n)})}},{key:"subdivide",value:function(){this.divisions=[["0:left-0top","1:right-0top"],["0:left-1bottom","1:right-1bottom"]];var n=this.boundary.x,e=this.boundary.y,i=this.boundary.w,r=this.boundary.h;this.divisions[1][0]=new t(new u(n+i/2,e-r/2,i/2,r/2),this.capacity),this.divisions[0][0]=new t(new u(n-i/2,e-r/2,i/2,r/2),this.capacity),this.divisions[1][0]=new t(new u(n+i/2,e+r/2,i/2,r/2),this.capacity),this.divisions[0][0]=new t(new u(n-i/2,e+r/2,i/2,r/2),this.capacity)}}],[{key:"sub",value:function(n,e){t.events[n].push(e)}},{key:"trigger",value:function(n,e){t.events[n].array.forEach(function(t){t(e)})}},{key:"events",get:function(){return t.event_bindings||(t.event_bindings={create:[],insert:[]}),t.event_bindings}}]),t}();n.Point=s,n.QuadTree=a,n.Rectangle=u,n.Circle=o},function(t,n,e){Object.defineProperty(n,"__esModule",{value:!0});var i=e(0);Object.defineProperty(n,"QPoint",{enumerable:!0,get:function(){return i.Point}}),Object.defineProperty(n,"QRectangle",{enumerable:!0,get:function(){return i.Rectangle}}),Object.defineProperty(n,"QCircle",{enumerable:!0,get:function(){return i.Circle}}),Object.defineProperty(n,"QuadTree",{enumerable:!0,get:function(){return i.QuadTree}})}])},function(t,n,e){"use strict";var i=e(0);i.QuadTree.sub("create",function(t){console.log("create",r)});for(var r=new i.QuadTree(new i.QRectangle(750,750,1500,1500),4),s=0;s<5e3;s++){var o=new i.QPoint({x:500*Math.random(),y:500*Math.random()},{});r.insert(o)}}]);
//# sourceMappingURL=dist.js.map